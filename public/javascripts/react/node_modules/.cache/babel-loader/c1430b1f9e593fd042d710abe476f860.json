{"ast":null,"code":"import _slicedToArray from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/workspace/fullstack-advogada/public/javascripts/react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import M from\"materialize-css\";import $ from'jquery';var CustosIndividuais=/*#__PURE__*/function(_React$Component){_inherits(CustosIndividuais,_React$Component);function CustosIndividuais(props){var _this;_classCallCheck(this,CustosIndividuais);_this=_possibleConstructorReturn(this,_getPrototypeOf(CustosIndividuais).call(this,props));// this.handleChange = this.handleChange.bind(this);\nvar lista=props.lista;_this.addItem=_this.addItem.bind(_assertThisInitialized(_this));_this.rmItem=_this.rmItem.bind(_assertThisInitialized(_this));_this.state={// \"DataSource\" é uma fonte de dados global\nlista:lista,total:_this.props.totalIndividual,nr_moradores:1};return _this;}_createClass(CustosIndividuais,[{key:\"componentDidMount\",value:function componentDidMount(){this.nrItens=0;M.AutoInit();}},{key:\"rmItem\",value:function rmItem(e){var lista=this.state.lista;var id=$(e.target).prop('id');lista=lista.filter(function(item){return item.id!==id;});var valor=lista.reduce(function(acumulador,i){return acumulador+i.valor;},0);console.log(valor,'valor',lista);this.setState({lista:lista,total:valor.toFixed(2)});this.props.onTotalIndividualChange(valor);}},{key:\"addItem\",value:function addItem(){var lista=this.state.lista;var o={id:\"ci_\"+(lista.length+1),item:$('#item-despesa').val(),valor:parseFloat($('#item-valor').val())};$('#item-despesa').val('');$('#item-valor').val('');if(!o.item||!o.valor){return;}lista.push(o);var valor=parseFloat(this.state.total)+o.valor;this.setState({lista:lista,total:valor.toFixed(2).replace('.',',')});this.props.onTotalIndividualChange(valor);}},{key:\"render\",value:function render(){var itens=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.state.lista.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref3=_step.value;var _ref2=_slicedToArray(_ref3,2);var index=_ref2[0];var value=_ref2[1];var valor=value.valor;itens.push(React.createElement(\"tr\",{\"data-key\":value.id},React.createElement(\"td\",null,value.item),React.createElement(\"td\",null,valor.toFixed(2).replace('.',',')),React.createElement(\"td\",null,React.createElement(\"a\",{class:\"btn-floating btn-small waves-effect waves-light red\",onClick:this.rmItem},React.createElement(\"i\",{id:value.id,class:\"material-icons\"},\"remove\")))));}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{id:\"modal-help-gindividual\",class:\"modal\"},React.createElement(\"div\",{class:\"modal-content\"},React.createElement(\"h6\",null,\"Gastos individuais\"),React.createElement(\"p\",null,\"Aqui voc\\xEA deve discriminar somente os gastos individuais do beneficiado, como por exemplo: Educa\\xE7\\xE3o, sa\\xFAde, alimentos, vestu\\xE1rio, lazer entre outros.\")),React.createElement(\"div\",{class:\"modal-footer\"},React.createElement(\"a\",{href:\"#!\",class:\"modal-close waves-effect btn-small\"},\"ok\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"h6\",null,\"Gastos individuais do beneficiado\",React.createElement(\"a\",{class:\"waves-effect waves-light btn-help modal-trigger\",href:\"#modal-help-gindividual\"},React.createElement(\"i\",{class:\"material-icons\"},\"info\")))),React.createElement(\"div\",{class:\"row forms-table\"},React.createElement(\"div\",{class:\"input-field col s12 m12 l6\"},React.createElement(\"input\",{placeholder:\"\",id:\"item-despesa\",type:\"text\",class:\"validate\"}),React.createElement(\"label\",{for:\"item-despesa\"},\"Discri\\xE7\\xE3o da despesa\")),React.createElement(\"div\",{class:\"input-field col s8 m10 l4\"},React.createElement(\"input\",{id:\"item-valor\",type:\"number\",class:\"validate\"}),React.createElement(\"label\",{for:\"item-valor\"},\"Valor da despesa\")),React.createElement(\"div\",{class:\"input-field col s4 m2 l2\"},React.createElement(\"a\",{class:\"btn-floating btn-large waves-effect waves-light red\",onClick:this.addItem},React.createElement(\"i\",{class:\"material-icons\"},\"add\")))),React.createElement(\"div\",{class:\"row\"},React.createElement(\"table\",{class:\"responsive-table highlight\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Despesa\"),React.createElement(\"th\",null,\"Valor\"),React.createElement(\"th\",null))),React.createElement(\"tbody\",{id:\"table-custos-individuais\"},itens),React.createElement(\"tfoot\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{colspan:\"2\"},\"Total Gasto Individuais\"),React.createElement(\"td\",null,\"R$ \",this.state.total))))));}}]);return CustosIndividuais;}(React.Component);export default CustosIndividuais;","map":{"version":3,"sources":["/workspace/fullstack-advogada/public/javascripts/react/src/compontentes/calc-pensao/CustosIndividuais.js"],"names":["React","M","$","CustosIndividuais","props","lista","addItem","bind","rmItem","state","total","totalIndividual","nr_moradores","nrItens","AutoInit","e","id","target","prop","filter","item","valor","reduce","acumulador","i","console","log","setState","toFixed","onTotalIndividualChange","o","length","val","parseFloat","push","replace","itens","entries","index","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport M from \"materialize-css\";\nimport $ from 'jquery';\n\nclass CustosIndividuais extends React.Component{\n    constructor(props) {\n        super(props);\n        // this.handleChange = this.handleChange.bind(this);\n        let lista = props.lista\n        this.addItem = this.addItem.bind(this);\n        this.rmItem = this.rmItem.bind(this);\n        this.state = {\n            // \"DataSource\" é uma fonte de dados global\n            lista: lista,\n            total: this.props.totalIndividual,\n            nr_moradores:1\n        };\n    }\n    componentDidMount() {\n        this.nrItens = 0\n        M.AutoInit();\n    }\n    rmItem(e){\n        let lista = this.state.lista;\n        let id = $(e.target).prop('id')\n        lista = lista.filter( function(item){ \n            \n            return item.id !== id\n        })\n        \n        let valor = lista.reduce((acumulador, i)=>{\n            return acumulador + i.valor;\n        },0)\n        console.log(valor,'valor', lista)\n        this.setState({lista: lista, total: valor.toFixed(2)})\n        this.props.onTotalIndividualChange(valor);\n    }\n      addItem(){\n        let lista = this.state.lista;\n        let o = {\n            id: \"ci_\"+(lista.length+1),\n            item: $('#item-despesa').val(),\n            valor: parseFloat($('#item-valor').val())\n        }\n        $('#item-despesa').val('');\n        $('#item-valor').val('');\n        if(!o.item || !o.valor){\n            return;\n        }\n        lista.push(o)\n        let valor = parseFloat(this.state.total) + o.valor\n        this.setState({lista: lista, total: valor.toFixed(2).replace('.',',')})\n        this.props.onTotalIndividualChange(valor);\n    }\n    \n    render(){\n        let itens = [];\n        for (const [index, value] of this.state.lista.entries()) {\n            let valor = value.valor\n            itens.push(\n                <tr data-key={value.id}>\n                    <td>{value.item}</td>\n                    <td>{valor.toFixed(2).replace('.',',')}</td>\n                    <td>\n                        <a class=\"btn-floating btn-small waves-effect waves-light red\" onClick={this.rmItem}>\n                        <i id={value.id} class=\"material-icons\">remove</i>\n                        </a>\n                    </td>\n                </tr>\n            );\n        }\n        return (\n            <div className=\"card-panel\">\n                <div id=\"modal-help-gindividual\" class=\"modal\">\n                    <div class=\"modal-content\">\n                    <h6>Gastos individuais</h6>\n                    <p>Aqui você deve discriminar somente os gastos individuais do beneficiado, como por exemplo: Educação, saúde, alimentos, vestuário, lazer entre outros.</p>\n                    </div>\n                    <div class=\"modal-footer\">\n                    <a href=\"#!\" class=\"modal-close waves-effect btn-small\">ok</a>\n                    </div>\n                </div>\n                <div className='row'>\n                    <h6>Gastos individuais do beneficiado \n                        <a class=\"waves-effect waves-light btn-help modal-trigger\" href=\"#modal-help-gindividual\">\n                            <i class=\"material-icons\">info</i>\n                        </a>\n                    </h6>\n                </div>\n                <div class=\"row forms-table\">\n                    <div class=\"input-field col s12 m12 l6\">\n                        <input placeholder=\"\" id=\"item-despesa\" type=\"text\" class=\"validate\"/>\n                        <label for=\"item-despesa\">Discrição da despesa</label>\n                    </div>\n                    <div class=\"input-field col s8 m10 l4\">\n                        <input id=\"item-valor\" type=\"number\" class=\"validate\"/>\n                        <label for=\"item-valor\">Valor da despesa</label>\n                    \n                    </div>\n                    <div class=\"input-field col s4 m2 l2\">\n                        <a class=\"btn-floating btn-large waves-effect waves-light red\" onClick={this.addItem} ><i class=\"material-icons\">add</i></a>\n                    </div>\n                </div>\n                <div class='row' >\n                   <table class='responsive-table highlight'>\n                        <thead>\n                        <tr>\n                            <th>Despesa</th>\n                            <th>Valor</th>\n                            <th></th>\n                        </tr>\n                        </thead>\n\n                        <tbody id='table-custos-individuais'>\n                        {itens}\n                        </tbody>\n                        <tfoot>\n                            <tr>\n                                \n                                <td colspan='2'>Total Gasto Individuais</td>\n                                <td>R$ {this.state.total}</td> \n                            </tr>\n                        </tfoot>\n                    </table>\n\n                </div>\n            </div>\n        )\n       \n    }\n}\nexport default CustosIndividuais"]},"metadata":{},"sourceType":"module"}